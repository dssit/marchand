<%= form_for @image do |f| %>
  <%= f.hidden_field :thumbnail %>

  <!-- Image & Image Title -->
  <div class="panel panel-default">
    <div class="panel-body">
      <div class="row flex-center">
        <div class="col-xs-6 image-basic-information">
          <div class="col-xs-12">
            <h5>Title</h5>
            <%= f.text_field :title, class: "form-control", placeholder: "Title" %>
          </div>
          <div class="col-xs-12">
            <h5>Collection</h5>
            <%= f.select :collection_id, Collection.all.collect { |c| [c.name, c.id] }, include_blank: true %>
          </div>
          <!-- <div class="col-xs-6 row">
            <h5>Dates</h5>
            <%#= f.number_field :start_year, class: "form-control ", placeholder: "Start Year" %>
            <%#= f.number_field :end_year, class: "form-control", placeholder: "End Year" %>
          </div> -->
          <div class="col-xs-12">
            <%= f.check_box :public %>
            <%= label_tag :image_public, "Public" %>
          </div>
          <div class="col-xs-12">
            <%= f.check_box :featured %>
            <%= label_tag :image_featured, "Featured" %>
          </div>
        </div>

        <div class="col-xs-6 flex-center">
          <div class="image-thumbnail">
            <%= image_tag @image.thumbnail, class: "preview" %>
            <%= f.file_field :s3, class: "hidden upload-image-btn" %>
            <%= f.label :s3, "Upload New Image", class: "btn btn-default upload-image-btn" %>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Card Text & Citation -->
  <div class="panel panel-default">
    <div class="panel-body">
      <div class="row">
        <div class="col-xs-12">
          <div class="row">
            <div class="col-xs-12">
              <%= render "filter", :f => f, :klass => Author, :member => :image_authors %>
            </div>
            <div class="col-xs-12 card-text">
              <h5>Card Text</h5>
              <%= f.text_area :card, class: "form-control" %>
            </div>
            <div class="col-xs-12">
              <h5>Card Citation</h5>
              <%= f.text_area :citation, class: "form-control" %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Topic / Standard / Collection -->
  <div class="panel panel-default">
    <div class="panel-body">
      <div class="row">
        <div class="col-xs-12">
          <div class="row">
            <div class="col-xs-12">
              <%= render "filter", :f => f, :klass => Topic, :member => :topic_assignments %>
              <%= render "filter", :f => f, :klass => Region, :member => :region_assignments %>
              <%= render "filter", :f => f, :klass => CalStandard, :member => :data_cal_standards %>
              <%= render "filter", :f => f, :klass => NatStandard, :member => :data_nat_standards %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <% if @image.id %>
    <div class="form-actions col-md-3">
      <%= f.submit "Update Image", :class => "form-control btn btn-success btn-submit"%>
      <%= link_to 'Delete',url_for(action: :destroy,id: @image.id),method: :delete, data: {confirm: "Are you sure?"}, class: "form-control btn btn-danger btn-delete" %>
    </div>
  <% else %>
    <div class="col-md-12" style="text-align: center; margin-bottom: 5em;">
      <%= f.submit "Add New Image", class: "btn-lg btn btn-primary", style: "width: 66%;" %>
    </div>
  <% end %>

<% end %>

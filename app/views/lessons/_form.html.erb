<%= form_for @lesson do |f| %>
<div class="panel panel-default">
    <div class="panel-body">
        <div class="row">
            <div class="col-xs-12">
                <div class="row">
                    <div class="col-xs-12">
                        <h5>Lesson Title</h5>
                        <%= f.text_field :title, class: "form-control", placeholder: "Title" %>
                    </div>
                    <div class="col-xs-12">
                        <h5>Lesson Grade</h5>
                        <%= f.text_field :grade, class: "form-control", placeholder: "Grade" %>
                    </div>
                    <div class="col-xs-12">
                        <h5>Lesson PDF</h5>
                          <div id="file_upload">
                            <%= f.file_field :pdf %>
                          </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-body">
        <div class="row">
            <div class="col-xs-12">
                <div class="row">
                    <div class="col-xs-12 card-text">
                        <h5>Lesson Background</h5>
                        <%= f.text_area :background, class: "form-control" %>
                    </div>
                    <div class="col-xs-12 card-text">
                        <h5>Lesson Images</h5>

                        <% @lesson.images.each do |image| %>
                          <div class="appended-input-fields">
                            <input multiple="multiple" name="lesson[image_ids][]" value='<%= image.id %>'><a href="#" class="remove_field">Remove</a>
                        </div>
                        <% end %>

                        <input type="hidden" multiple="multiple" name="lesson[image_ids][]">

                        <div class="append-input-fields"></div>

                        <div class="input-fields-wrap">
                          <h5 style="display: inline;"></h5><input type="number" placeholder="Image Id" id="image_id" style="padding-left: 5px;"/>
                            <input type="button" id="image-add-button" value="Add" onClick="javascript:add_image(document.getElementById('image_id').value);" class="add-image-button" /><br />
                          <div id="image-find-controls-text" class="col-xs-12" style="visibility: hidden;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<% if @lesson.id %>
  <div class='col-md-12' style='text-align: center; margin-bottom: 5em;'>
    <%= link_to 'Delete Lesson', url_for(action: :destroy, id: @lesson.id),
                          method: :delete,
                          data: { confirm: 'Are you sure?' },
                          class: 'btn btn-lg btn-danger',
                          style: 'margin-right: 8em;' %>
    <%= f.submit 'Update Lesson', :class => 'btn-lg btn btn-primary', style: 'width: 33%;' %>
  </div>
<% else %>
  <div class='col-md-12' style='text-align: center; margin-bottom: 5em;'>
    <%= f.submit 'Add New Lesson', class: 'btn-lg btn btn-primary', style: 'width: 66%;' %>
  </div>
<% end %>

<% end %>
